function btnClick_MultiPlay(){var e=navigator.userAgent;(e.indexOf("iPhone")>0||e.indexOf("iPod")>0||e.indexOf("Android")>0&&e.indexOf("Mobile")>0||e.indexOf("iPad")>0||e.indexOf("Android")>0)&&(getLocalVideo().muted=!0,getYouTubeVideo().mute());var t=document.getElementById("play"),i=document.getElementById("playLocal2");t.click(),i.click()}function btnClick_MultiPause(){var e=document.getElementById("pause"),t=document.getElementById("pauseLocal2");e.click(),t.click()}function btnClick_MultiSlow(){getLocalVideo().playbackRate-=.25,youTubeSpeedControl(-.25)}function btnClick_MultiFast(){getLocalVideo().playbackRate+=.25,youTubeSpeedControl(.25)}function btnClick_MultiMuteRe(){multeReleaseLocal(getLocalVideo()),youMuteRelease()}function multeReleaseLocal(e){e.muted=!1,getYouTubeVideo().unMute()}function btnClick_MultiSave(){""==$("#video1_time_st").val()&&($("#video1_time_st").val(getYouTubeVideo().getCurrentTime()),$("#video1_url").val($("#idYou1").val())),""==$("#video2_time_st").val()&&($("#video2_time_st").val(getLocalVideo().currentTime),$("#video2_url").val($("#fileSelLocal2").val()))}function btnClick_MultiSet(){const e=$("#idYou1").val();if(""===e)return void alert("動画1のYoutube[URL]を入力して下さい。");const t=$("#fileSelLocal2").val();""!==t?($("#video1_time_st").val(getYouTubeVideo().getCurrentTime()),$("#video1_url").val(e),$("#video2_time_st").val(getLocalVideo().currentTime),$("#video2_url").val(t),$("#range_filed").show(),$("#multiSave").show(),$("#buttonsYou").hide(),$("#buttonsLocal2").hide()):alert("動画2を選択して下さい。")}function btnClick_MultiAgain(){btnClick_MultiPause(),getYouTubeVideo().seekTo($("#video1_time_st").val()),getLocalVideo().currentTime=$("#video2_time_st").val()}function read(e){setTimeout((function(){$.ajax({type:"GET",url:"/ajax/find-comparsion/"+e}).done((function(e,t,i){$("#idYou1").val(e.video1_url),$("#videoSelct").click(),$("#video1_time_st").val(e.video1_time_st),setTimeout((function(){document.getElementById("pause").click(),getYouTubeVideo().seekTo(e.video1_time_st)}),1300),$("#video2_time_st").val(e.video2_time_st),setTimeout((function(){document.getElementById("pauseLocal2").click(),getLocalVideo().currentTime=e.video2_time_st}),1300),$("#memoPanel").show(),$("#memo_disp").html(e.memo),$("#title_disp").html(e.title),$("#select2_read_category").val(e.id),$("#range_filed").show(),$("#fileSelLocal2_label").show(),$("#buttonsYou").hide(),$("#buttonsLocal2").hide(),$("#readModal").modal("hide")})).fail((function(e,t,i){}))}),1e3)}function dispChange(e){"block"==$(e).css("display")?$(e).hide():$(e).show()}function youBtnDispChange(e){"block"==$(e).css("display")?$(e).hide():$(e).show()}function init(){document._video=document.getElementById("videoLocal2")}function getLocalVideo(){return document._video}window.onload=function(){$.ajax({type:"GET",url:"/analysis/access_youlocal"}),$("#select2_read_category").select2({dropdownAutoWidth:!0,width:"100%",placeholder:"選択してください。"}),$("#select2_save_category").select2({tags:!0,dropdownAutoWidth:!0,width:"100%",placeholder:"選択してください。",dropdownParent:$("#saveModal .modal-content")}),global_read_id&&read(global_read_id);var e=window.navigator.userAgent;-1==e.indexOf("iPhone")&&-1==e.indexOf("iPod")&&-1==e.indexOf("iPad")||-1==e.indexOf("CriOS")&&(document.getElementById("multiSlow").disabled=!0,document.getElementById("multiFast").disabled=!0)},$((function(e){e(".slider").on("input",(function(){let t=e(this).val(),i=(getYouTubeVideo().getDuration()-e("#video1_time_st").val())/100;getYouTubeVideo().getDuration()>getLocalVideo().duration&&(i=(getLocalVideo().duration-e("#video2_time_st").val())/100),document.getElementById("pause").click(),document.getElementById("pauseLocal2").click(),getYouTubeVideo().seekTo(Number(e("#video1_time_st").val())+i*t),getLocalVideo().currentTime=Number(e("#video2_time_st").val())+i*t})),e("#fileSelLocal2").on("change",(function(){""===e("#fileSelLocal2").val()?e("#fileSelLocal2_label").show():e("#fileSelLocal2_label").hide()}))})),document.addEventListener("DOMContentLoaded",init,!1),window.addEventListener("load",(function(){var e,t;e=window,t=e.URL||e.webkitURL,document.querySelector('input[type="file"]').addEventListener("change",(function(e){var i=e.target.files[0],o=i.type,l=document.querySelector("video"),n=l.canPlayType(o);"no"===(n=""===n?"no":n)||(l.src=t.createObjectURL(i),l.pause())}),!1)}));var tag=document.createElement("script");tag.src="https://www.youtube.com/iframe_api";var ytPlayer,firstScriptTag=document.getElementsByTagName("script")[0];function onYouTubeIframeAPIReady(){ytPlayer=new YT.Player("sampleVideo",{width:300,height:150,playerVars:{playsinline:1,rel:0,showinfo:0,controls:0}})}function youTubeSpeedControl(e){var t=ytPlayer.getPlaybackRate();ytPlayer.setPlaybackRate(t+e)}function youMuteRelease(){ytPlayer.unMute()}function youMute(){ytPlayer.mute()}function getYouTubeVideo(){return ytPlayer}firstScriptTag.parentNode.insertBefore(tag,firstScriptTag),$((function(){function e(e,t){var i=e.getCurrentTime();e.seekTo(i+t)}function t(){var e=$(window).width(),t=9/16*$(window).width();ytPlayer.setSize(e,t)}$("#play").click((function(){ytPlayer.playVideo()})),$("#pause").click((function(){ytPlayer.pauseVideo()})),$("#prev100").click((function(){e(ytPlayer,-1)})),$("#next100").click((function(){e(ytPlayer,1)})),$("#prev050").click((function(){e(ytPlayer,-.5)})),$("#next050").click((function(){e(ytPlayer,.5)})),$("#prev010").click((function(){e(ytPlayer,-.1)})),$("#prev005").click((function(){e(ytPlayer,-.05)})),$("#next010").click((function(){e(ytPlayer,.1)})),$("#next005").click((function(){e(ytPlayer,.05)})),$("#volup").click((function(){var e=ytPlayer.getVolume();ytPlayer.setVolume(e+10)})),$("#voldown").click((function(){var e=ytPlayer.getVolume();ytPlayer.setVolume(e-10)})),$("#mute").click((function(){ytPlayer.mute()})),$("#muteRelease").click((function(){ytPlayer.unMute()})),$("#videoSelct").click((function(){var e,i=document.getElementById("idYou1").value;e=i.length>11?i.substring(i.length-11,i.length):i,ytPlayer.loadVideoById(e),t()})),window.onresize=function(){t()}}));
